---
tags:
  - type/research
  - status/completed
  - ai/claude
  - media/youtube
  - dev/payment
  - dev/saas
  - dev/supabase
date: 2026-02-19
source: "https://www.youtube.com/watch?v=QclA7lJQhyc"
summary: "Claude Code + MCPë¡œ í† ìŠ¤í˜ì´ë¨¼ì¸  ì •ê¸°ê²°ì œ SaaS êµ¬ì¶• ì‹¤ìŠµ - ìƒì„¸ ë¶„ì„"
---

# â­ ì •ê¸°ê²°ì œ ì‹œìŠ¤í…œìœ¼ë¡œ ì§€ì†ì ì¸ ìˆ˜ìµ íŒŒì´í”„ë¼ì¸ ë§Œë“¤ê¸° (ì½”ë“œíŒ©í† ë¦¬)

> **"AI ì‹œëŒ€, ê°œë°œìëŠ” 'ì½”ë”'ê°€ ì•„ë‹ˆë¼ 'ì•„í‚¤í…íŠ¸'ì´ì 'ë¹„ì¦ˆë‹ˆìŠ¤ ì˜¤ë„ˆ'ê°€ ë˜ì–´ì•¼ í•œë‹¤."**
> Claude Codeì™€ ìµœì‹  AI ë„êµ¬ë¥¼ í™œìš©í•´ ë°”ë‹¥ë¶€í„° ê²°ì œ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ê³ , ì´ë¥¼ SaaS ë¹„ì¦ˆë‹ˆìŠ¤ ëª¨ë¸ë¡œ ì—°ê²°í•˜ëŠ” ì‹¤ì „ ë¼ì´ë¸Œ ì½”ë”© ì„¸ì…˜ ìƒì„¸ ë¶„ì„ì…ë‹ˆë‹¤.

---

## 1. ğŸ“º ì˜ìƒ ê°œìš” ë° íƒ€ì„ë¼ì¸

### 1.1 ê¸°ë³¸ ì •ë³´
- **ì±„ë„**: ì½”ë“œíŒ©í† ë¦¬ (Code Factory)
- **ì£¼ì œ**: Claude Code(MCP) + Supabase + Toss Paymentsë¥¼ í™œìš©í•œ ì •ê¸°ê²°ì œ SaaS êµ¬ì¶•
- **ë‚œì´ë„**: ì¤‘ê¸‰ (Next.js ë° ë°±ì—”ë“œ ë¡œì§ ì´í•´ í•„ìš”)
- **ì†Œìš” ì‹œê°„**: ì•½ 1ì‹œê°„ 40ë¶„

### 1.2 ìƒì„¸ íƒ€ì„ë¼ì¸ (ì¶”ì •)
| ì‹œê°„ | ì£¼ì œ | í•µì‹¬ ë‚´ìš© |
| :--- | :--- | :--- |
| **00:00** | ì¸íŠ¸ë¡œ & ë§ˆì¸ë“œì…‹ | ê°œë°œìì˜ í˜„ì‹¤, AI ë„êµ¬ì˜ ì—­í• , "ë”¸ê¹" ì½”ë”©ì˜ í—ˆì™€ ì‹¤ |
| **00:15** | í”„ë¡œì íŠ¸ ì…‹íŒ… | Next.js 14+, Shadcn UI, Supabase ë¡œì»¬ í™˜ê²½ ì„¤ì • |
| **00:30** | UI í”„ë¡œí† íƒ€ì´í•‘ | **Stitch** ë„êµ¬ë¥¼ í™œìš©í•œ ê²°ì œ/ë©”ì¸ í˜ì´ì§€ UI ìƒì„± ë° ì½”ë“œ ë³€í™˜ |
| **00:45** | DB & Auth ì„¤ê³„ | Supabase Auth ì—°ë™, `users` í…Œì´ë¸” íŠ¸ë¦¬ê±° ì„¤ì • |
| **01:00** | Claude Code & MCP | **MCP(Model Context Protocol)** ì„¤ì •, í† ìŠ¤í˜ì´ë¨¼ì¸  ë¬¸ì„œ í•™ìŠµ |
| **01:20** | ê²°ì œ ì‹œìŠ¤í…œ ì—°ë™ | í† ìŠ¤í˜ì´ë¨¼ì¸  SDK ì—°ë™, ë¹Œë§í‚¤(Billing Key) ë°œê¸‰ ë° ì €ì¥ |
| **01:35** | ì •ê¸°ê²°ì œ ìŠ¤ì¼€ì¤„ë§ | Cron Job ì„¤ì •, ê²°ì œ ì‹¤íŒ¨ ì‹œ ì¬ì‹œë„ ë¡œì§, ì—ëŸ¬ í•¸ë“¤ë§ |
| **01:40** | ë§ˆë¬´ë¦¬ & Q&A | ë³´ì•ˆ, í™•ì¥ì„±, ë¹„ì¦ˆë‹ˆìŠ¤ ì¡°ì–¸ |

---

## 2. ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ ìƒì„¸ ë¶„ì„

ë°œí‘œìê°€ ì´ ìŠ¤íƒì„ ì„ íƒí•œ ì´ìœ ëŠ” **"ì†ë„"ì™€ "ì•ˆì •ì„±"ì˜ ê· í˜•** ë•Œë¬¸ì…ë‹ˆë‹¤.

### 2.1 í”„ë¡ íŠ¸ì—”ë“œ: Next.js + Shadcn UI
- **ì„ íƒ ì´ìœ **:
    - **Next.js (App Router)**: ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§(SSR)ê³¼ API ë¼ìš°íŠ¸(Backend for Frontend)ë¥¼ ë™ì‹œì— ì²˜ë¦¬ ê°€ëŠ¥. ê²°ì œ ê²€ì¦ ë¡œì§ì„ ì„œë²„ ë‹¨ì— ìˆ¨ê¸°ê¸° ìš©ì´í•¨.
    - **Shadcn UI**: Tailwind CSS ê¸°ë°˜ìœ¼ë¡œ ì»¤ìŠ¤í„°ë§ˆì´ì§•ì´ ì‰½ê³ , AI(v0, Stitch ë“±)ê°€ ì½”ë“œë¥¼ ìƒì„±í•˜ê¸° ê°€ì¥ ì í•©í•œ êµ¬ì¡°.
    - **Tailwind CSS**: í´ë˜ìŠ¤ ê¸°ë°˜ì´ë¼ AIê°€ ìŠ¤íƒ€ì¼ë§ ì½”ë“œë¥¼ ì§œê¸° ì••ë„ì ìœ¼ë¡œ ìœ ë¦¬í•¨.

### 2.2 ë°±ì—”ë“œ/DB: Supabase
- **ì„ íƒ ì´ìœ **:
    - **All-in-One**: Auth, DB(PostgreSQL), Edge Functions, Storageë¥¼ í•œ ë²ˆì— í•´ê²°.
    - **Row Level Security (RLS)**: í”„ë¡ íŠ¸ì—”ë“œì—ì„œ DBì— ì§ì ‘ ì ‘ê·¼í•´ë„ ë³´ì•ˆì„ ìœ ì§€í•  ìˆ˜ ìˆëŠ” ê°•ë ¥í•œ ê¸°ëŠ¥.
    - **Database Webhooks**: ê²°ì œ ì„±ê³µ ì‹œ ìŠ¬ë™ ì•Œë¦¼ ë“±ì„ ë³´ë‚´ê¸° ì‰¬ì›€.
- **ì£¼ìš” ì„¤ì •**:
    - `auth.users` í…Œì´ë¸”ê³¼ `public.profiles` í…Œì´ë¸” ë™ê¸°í™” (Trigger ì‚¬ìš©).

### 2.3 ê²°ì œ: Toss Payments (í† ìŠ¤í˜ì´ë¨¼ì¸ )
- **ì„ íƒ ì´ìœ **:
    - **ê°œë°œì ì¹œí™”ì  ë¬¸ì„œ**: MCPë¡œ AIì—ê²Œ í•™ìŠµì‹œí‚¤ê¸° ê°€ì¥ ì¢‹ì€ êµ¬ì¡°ì˜ ë¬¸ì„œë¥¼ ì œê³µ.
    - **í…ŒìŠ¤íŠ¸ í™˜ê²½**: ìƒŒë“œë°•ìŠ¤(í…ŒìŠ¤íŠ¸) ëª¨ë“œê°€ ì§ê´€ì ì„.
    - **ë¹Œë§í‚¤(Billing Key)**: ì¹´ë“œ ë²ˆí˜¸ë¥¼ ì§ì ‘ ì €ì¥í•˜ì§€ ì•Šê³ ë„ ì •ê¸° ê²°ì œë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆëŠ” í•µì‹¬ ê¸°ëŠ¥ ì œê³µ.

### 2.4 AI ë„êµ¬: Claude Code + MCP
- **í•µì‹¬**: Claude CodeëŠ” ë‹¨ìˆœí•œ ì±„íŒ…ì´ ì•„ë‹ˆë¼ **CLI(í„°ë¯¸ë„)ì—ì„œ ì§ì ‘ íŒŒì¼ì„ ìˆ˜ì •í•˜ê³  ì»¤ë§¨ë“œë¥¼ ì‹¤í–‰**í•˜ëŠ” ì—ì´ì „íŠ¸.
- **MCP (Model Context Protocol)**:
    - LLMì—ê²Œ ì™¸ë¶€ ë°ì´í„°(ì—¬ê¸°ì„œëŠ” í† ìŠ¤í˜ì´ë¨¼ì¸  API ë¬¸ì„œ, ë‚´ í”„ë¡œì íŠ¸ì˜ DB ìŠ¤í‚¤ë§ˆ ë“±)ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ì£¼ì…í•˜ëŠ” í”„ë¡œí† ì½œ.
    - ì˜ˆ: "í† ìŠ¤í˜ì´ë¨¼ì¸  ë¬¸ì„œ(MCP)ë¥¼ ì°¸ê³ í•´ì„œ ì •ê¸°ê²°ì œ ìŠ¹ì¸ ì½”ë“œë¥¼ ì§œì¤˜"ë¼ê³  í•˜ë©´ í• ë£¨ì‹œë„¤ì´ì…˜ ì—†ì´ ì •í™•í•œ ì½”ë“œë¥¼ ì‘ì„±í•¨.

---

## 3. ğŸ’» ì½”ë”© ê³¼ì • ìƒì„¸ (Step-by-Step)

### Step 1: í”„ë¡œì íŠ¸ ì´ˆê¸°í™” ë° Stitch UI ì ìš©
1.  **Next.js ì„¤ì¹˜**:
    ```bash
    npx create-next-app@latest my-saas --typescript --tailwind --eslint
    ```
2.  **Stitch í™œìš©**:
    - í”„ë¡¬í”„íŠ¸: *"ì‹¬í”Œí•˜ê³  ëª¨ë˜í•œ SaaS ê°€ê²© ì •ì±… í˜ì´ì§€ë¥¼ ë§Œë“¤ì–´ì¤˜. ì›”ê°„/ì—°ê°„ í† ê¸€ ë²„íŠ¼ì´ ìˆê³ , 3ê°€ì§€ í‹°ì–´(Basic, Pro, Enterprise)ë¥¼ ë³´ì—¬ì¤˜."*
    - ê²°ê³¼ë¬¼: HTML/React ì½”ë“œë¡œ ë³€í™˜ë¨.
    - ì ìš©: `app/pricing/page.tsx`ì— ë³µì‚¬-ë¶™ì—¬ë„£ê¸°.

### Step 2: Supabase ì„¤ì • ë° ìŠ¤í‚¤ë§ˆ ì„¤ê³„
1.  **ë¡œì»¬ ì‹¤í–‰**: `npx supabase start`
2.  **í…Œì´ë¸” ì„¤ê³„ (SQL)**:
    ```sql
    -- ì‚¬ìš©ì í”„ë¡œí•„ (Authì™€ ì—°ë™)
    create table public.profiles (
      id uuid references auth.users not null primary key,
      email text,
      full_name text,
      billing_key text, -- ì •ê¸°ê²°ì œìš© í‚¤ (ì¤‘ìš”!)
      is_subscribed boolean default false,
      subscription_plan text,
      created_at timestamptz default now()
    );

    -- ê²°ì œ ë‚´ì—­
    create table public.payments (
      id uuid default gen_random_uuid() primary key,
      user_id uuid references public.profiles(id),
      amount integer,
      status text, -- 'DONE', 'CANCELED', 'FAILED'
      payment_key text,
      created_at timestamptz default now()
    );
    ```
3.  **Trigger ì„¤ì •**: íšŒì›ê°€ì…(`auth.users` insert) ì‹œ ìë™ìœ¼ë¡œ `public.profiles` ìƒì„±.

### Step 3: Claude Code + MCPë¡œ ê²°ì œ ì—°ë™
1.  **MCP ì„œë²„ ì„¤ì •**: `claude_mcp_config.json` (ê°€ìƒì˜ ì„¤ì • íŒŒì¼) ë“±ì— í† ìŠ¤í˜ì´ë¨¼ì¸  ë¬¸ì„œ URL ë“±ë¡.
2.  **Client Side (ê²°ì œ ì°½ ë„ìš°ê¸°)**:
    - `@tosspayments/payment-widget-sdk` ì„¤ì¹˜.
    - "ì¹´ë“œ ë“±ë¡" ë²„íŠ¼ í´ë¦­ â†’ í† ìŠ¤í˜ì´ë¨¼ì¸  ì°½ ëœ¸ â†’ ì¹´ë“œ ì •ë³´ ì…ë ¥ â†’ `successUrl`ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ (ì´ë•Œ `authKey` ì „ë‹¬ë°›ìŒ).
3.  **Server Side (ë¹Œë§í‚¤ ë°œê¸‰)**:
    - `app/api/billing/route.ts` ìƒì„±.
    - Claudeì—ê²Œ ì§€ì‹œ: *"MCPì˜ í† ìŠ¤í˜ì´ë¨¼ì¸  'ë¹Œë§í‚¤ ë°œê¸‰' APIë¥¼ ì°¸ì¡°í•´ì„œ, `authKey`ì™€ `customerKey`ë¡œ ë¹Œë§í‚¤ë¥¼ ë°›ì•„ì˜¤ëŠ” API ë¼ìš°íŠ¸ë¥¼ ì§œì¤˜."*
    - **í•µì‹¬ ë¡œì§**:
        ```typescript
        // pseudo-code
        const response = await fetch('https://api.tosspayments.com/v1/billing/authorizations/issue', {
          method: 'POST',
          headers: { Authorization: `Basic ${encryptedSecretKey}` },
          body: JSON.stringify({ authKey, customerKey })
        });
        const { billingKey } = await response.json();
        // DBì— billingKey ì €ì¥ (ì ˆëŒ€ ì¹´ë“œë²ˆí˜¸ ì €ì¥ì´ ì•„ë‹˜!)
        await supabase.from('profiles').update({ billing_key: billingKey }).eq('id', userId);
        ```

### Step 4: ì •ê¸°ê²°ì œ ìŠ¤ì¼€ì¤„ëŸ¬ (Cron) êµ¬í˜„
1.  **ê°œë…**: ë§¤ì¼ ìì •, êµ¬ë… ê¸°ê°„ì´ ê°±ì‹ ë˜ëŠ” ìœ ì €ë¥¼ ì°¾ì•„ ë¹Œë§í‚¤ë¡œ ê²°ì œ ìš”ì²­.
2.  **êµ¬í˜„**:
    - `app/api/cron/process-payments/route.ts`
    - ë¡œì§:
        1. `profiles` í…Œì´ë¸”ì—ì„œ `is_subscribed = true`ì´ê³  `next_payment_date = today`ì¸ ìœ ì € ì¡°íšŒ.
        2. ì¡°íšŒëœ ìœ ì €ë“¤ì˜ `billing_key`ë¥¼ ì‚¬ìš©í•´ í† ìŠ¤í˜ì´ë¨¼ì¸  'ì¹´ë“œ ìë™ê²°ì œ ìŠ¹ì¸' API í˜¸ì¶œ.
        3. ê²°ì œ ì„±ê³µ ì‹œ `payments` í…Œì´ë¸”ì— ê¸°ë¡ ë‚¨ê¸°ê³  `next_payment_date`ë¥¼ ë‹¤ìŒ ë‹¬ë¡œ ê°±ì‹ .
        4. ì‹¤íŒ¨ ì‹œ `status = 'FAILED'` ê¸°ë¡ í›„ ìœ ì €ì—ê²Œ ì•Œë¦¼(ì´ë©”ì¼ ë“±).

---

## 4. ğŸ§  í•µì‹¬ ë©”ì‹œì§€ & ë¹„ì¦ˆë‹ˆìŠ¤ ì¸ì‚¬ì´íŠ¸

### 4.1 "ë”¸ê¹"ì˜ í™˜ìƒê³¼ í˜„ì‹¤
- **í™˜ìƒ**: "AIê°€ ë‹¤ í•´ì£¼ë‹ˆê¹Œ ë‚˜ëŠ” ë†€ì•„ë„ ëœë‹¤."
- **í˜„ì‹¤**: AIëŠ” 'ì£¼ë‹ˆì–´ ê°œë°œì' 10ëª…ì„ ë¶™ì—¬ì£¼ëŠ” ê²ƒê³¼ ê°™ë‹¤. ê·¸ë“¤ì„ ì§€íœ˜í•  **'ì‹œë‹ˆì–´(ë‹¹ì‹ )'ì˜ ì—­ëŸ‰**ì´ ì—†ìœ¼ë©´ ì—‰ëš±í•œ ê²°ê³¼ë¬¼ë§Œ ë‚˜ì˜¨ë‹¤.
- **í•„ìˆ˜ ì—­ëŸ‰**:
    - **ì•„í‚¤í…ì²˜ ì„¤ê³„ ëŠ¥ë ¥**: ì–´ë–¤ DBë¥¼ ì“°ê³ , ì–´ë–¤ íë¦„ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë³´ë‚¼ì§€ ê²°ì •í•˜ëŠ” ëŠ¥ë ¥.
    - **ë””ë²„ê¹… ëŠ¥ë ¥**: AIê°€ ì§  ì½”ë“œê°€ ì•ˆ ëŒì•„ê°ˆ ë•Œ ë¡œê·¸ë¥¼ ë³´ê³  ì›ì¸ì„ íŒŒì•…í•˜ëŠ” ëŠ¥ë ¥.

### 4.2 SaaS ìˆ˜ìµ ëª¨ë¸ì˜ í•µì‹¬: Retention (ìœ ì§€ìœ¨)
- ì •ê¸°ê²°ì œ ì‹œìŠ¤í…œì„ ë§Œë“œëŠ” ê±´ ê¸°ìˆ ì ìœ¼ë¡œ ì‰¬ì›Œì¡Œë‹¤.
- í•˜ì§€ë§Œ **"ì‚¬ìš©ìê°€ ë‹¤ìŒ ë‹¬ì—ë„ ê²°ì œë¥¼ ìœ ì§€í•˜ê²Œ ë§Œë“œëŠ” ê²ƒ"**ì€ ê¸°ìˆ ì´ ì•„ë‹Œ **ì„œë¹„ìŠ¤ì˜ ë³¸ì§ˆ**ì´ë‹¤.
- ê¸°ìˆ ì  ì™„ì„±ë„ë³´ë‹¤ **ë¹ ë¥´ê²Œ ëŸ°ì¹­í•´ì„œ í”¼ë“œë°±ì„ ë°›ê³  ê°œì„ (Iteration)**í•˜ëŠ” ì†ë„ê°€ ìˆ˜ìµì„ ê²°ì •í•œë‹¤.

### 4.3 ë³´ì•ˆ (Security)
- **RLS (Row Level Security)**: Supabaseë¥¼ ì“´ë‹¤ë©´ ì„ íƒì´ ì•„ë‹ˆë¼ í•„ìˆ˜ë‹¤. "ë‚´ ë°ì´í„°ëŠ” ë‚˜ë§Œ ë³¼ ìˆ˜ ìˆê²Œ" ì„¤ì •í•˜ì§€ ì•Šìœ¼ë©´, ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ `supabase.from('profiles').select('*')` í•œ ì¤„ë¡œ ëª¨ë“  ê³ ê° ì •ë³´ê°€ í„¸ë¦°ë‹¤.
- **ì‹œí¬ë¦¿ í‚¤ ê´€ë¦¬**: `.env` íŒŒì¼ ê´€ë¦¬ ì² ì €. í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ(ë¸Œë¼ìš°ì €)ì— ì ˆëŒ€ `TOSS_SECRET_KEY`ë¥¼ ë…¸ì¶œì‹œí‚¤ì§€ ë§ˆë¼.

---

## 5. ğŸš€ ì‹¤ì „ ì ìš© ê°€ì´ë“œ (ë”°ë¼í•˜ê¸°)

### ì¤€ë¹„ë¬¼
1.  **Node.js v20+**
2.  **Supabase ê³„ì •** (ë¬´ë£Œ í‹°ì–´ë¡œ ì¶©ë¶„)
3.  **Toss Payments ê°œë°œì ê³„ì •** (API í‚¤ ë°œê¸‰)
4.  **Claude Pro/Max ê³„ì •** (Claude Code CLI ì‚¬ìš© ê¶Œì¥)

### ì¶”ì²œ ì›Œí¬í”Œë¡œìš°
1.  **ê¸°íš**: ë§Œë“¤ê³  ì‹¶ì€ SaaSì˜ í•µì‹¬ ê¸°ëŠ¥ 1ê°€ì§€ë§Œ ì •ì˜í•œë‹¤.
2.  **DB ì„¤ê³„**: Claudeì—ê²Œ "ì´ ê¸°ëŠ¥ì„ ìœ„í•œ Supabase ìŠ¤í‚¤ë§ˆ ì§œì¤˜"ë¼ê³  ìš”ì²­í•œë‹¤.
3.  **UI ìƒì„±**: Stitchë‚˜ v0ë¡œ ë©”ì¸ í˜ì´ì§€ì™€ ëŒ€ì‹œë³´ë“œë¥¼ ë§Œë“ ë‹¤.
4.  **ì—°ë™**: Claude Code CLIë¥¼ ì¼œê³ , *"MCPë¡œ í† ìŠ¤í˜ì´ë¨¼ì¸  ë¬¸ì„œ ì½ì–´ì„œ ê²°ì œ í˜ì´ì§€ ë¶™ì—¬ì¤˜"*ë¼ê³  ëª…ë ¹í•œë‹¤.
5.  **ë°°í¬**: Vercelì— ë°°í¬í•˜ê³  ì‹¤ì œ ê²°ì œ(í…ŒìŠ¤íŠ¸ ëª¨ë“œ)ë¥¼ í•´ë³¸ë‹¤.

### ìœ ìš©í•œ í”„ë¡¬í”„íŠ¸ (Claude Codeìš©)
> "í˜„ì¬ í”„ë¡œì íŠ¸ì˜ `package.json`ì„ ë¶„ì„í•˜ê³ , `app/api/payments/route.ts` íŒŒì¼ì„ ìƒì„±í•´. í† ìŠ¤í˜ì´ë¨¼ì¸  ë¹Œë§í‚¤ ë°œê¸‰ APIë¥¼ í˜¸ì¶œí•´ì•¼ í•˜ê³ , ì„±ê³µ ì‹œ Supabase `profiles` í…Œì´ë¸”ì˜ `billing_key` ì»¬ëŸ¼ì„ ì—…ë°ì´íŠ¸í•´ì•¼ í•´. ì—ëŸ¬ ì²˜ë¦¬ëŠ” `try-catch`ë¡œ ê°ì‹¸ì¤˜."

---

## 6. ğŸ”— ì°¸ê³  ìë£Œ
- **Code Factory**: [https://links.codefactory.ai](https://links.codefactory.ai)
- **Toss Payments ê°œë°œì ì„¼í„°**: [https://docs.tosspayments.com](https://docs.tosspayments.com)
- **Supabase ê³µì‹ ë¬¸ì„œ**: [https://supabase.com/docs](https://supabase.com/docs)
- **Next.js ê³µì‹ ë¬¸ì„œ**: [https://nextjs.org/docs](https://nextjs.org/docs)
