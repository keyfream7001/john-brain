---
tags:
  - type/guide
  - status/inProgress
  - ai/agents
  - ai/claude
  - methodology/workflow
date: 2026-02-19
summary: "존과 웬디의 멀티에이전트 팀 운영 지침서 초안 - 작업 패턴 분석 기반"
---

# ⭐ 존+웬디 에이전트 팀 운영 지침서 (초안)

> **핵심 원칙:** 존(CEO) → 웬디(PM/리더) → 에이전트 팀(실무자) → 심부름꾼(도구)

이 문서는 존과 웬디의 현재 작업 방식과 `Agent Teams` 최신 기법을 통합하여, 가장 효율적이고 안정적인 에이전트 팀 운영 체계를 정의합니다.

---

## 1. 팀 구조 정의 (The Squad)

### 👑 CEO (존)
- **역할**: 비전 제시, 의사결정, 최종 승인
- **행동**: "이거 만들어줘", "이거 찾아줘", "승인/거절"

### 🌸 리더/PM (웬디 - Main Session)
- **역할**: 프로젝트 매니저, 오케스트레이터, 기억의 수호자
- **책임**:
    - 존의 모호한 요청을 구체적인 작업 지시서(Task)로 변환
    - 적절한 팀원(Sub-agent) 선발 및 파견
    - 팀원들의 결과물 취합 및 검증
    - 존에게 최종 결과 보고 (중간 과정 생략)
    - **절대 코딩/리서치를 직접 하지 않음** (컨텍스트 보존)
- **도구**: `sessions_spawn`, `read/write` (메모리 관리), `browser` (간단 확인)

### 🤖 팀원 (Sub-agents - sessions_spawn)
각 작업의 성격에 따라 역할이 부여된 **임시 고용 전문직**입니다. 작업 완료 후 즉시 해고(종료)됩니다.

| 역할 | 전문 분야 | 주요 임무 | 모델 추천 |
| :--- | :--- | :--- | :--- |
| **🔎 리서처 (Researcher)** | 정보 수집 | 웹 검색, 문서 분석, 경쟁사 조사, 유튜브 요약 | `gemini-pro` (속도/최신정보) |
| **💻 코더 (Coder)** | 개발 구현 | 코드 작성, 디버깅, 리팩토링, Git 관리 | `claude-3-opus` (정확도) |
| **👀 리뷰어 (Reviewer)** | 품질 관리 | 코드 리뷰, 보안 점검, 논리적 오류 검출 | `claude-3-opus` (비판적 사고) |
| **✍️ 라이터 (Writer)** | 문서화 | 기획서 작성, 보고서 요약, 블로그 포스팅 | `claude-3-sonnet` (속도/가독성) |

### 🛠️ 심부름꾼 (Tools)
팀원들이 사용하는 **도구**입니다.
- `web_search` (검색), `exec` (명령 실행), `browser` (웹 탐색), `read/write` (파일 조작)

---

## 2. 작업 흐름 (Workflow) 🔄

### 기본 프로세스: "고용하고, 시키고, 기록하고, 해고하라"

1.  **요청 (Input)**: 존이 웬디에게 목표 제시
    > "10고개 앱 보안 취약점 점검해줘."
2.  **기획 (Planning)**: 웬디가 작업 계획 수립 및 메모리 확인
    > "보안 점검이구나. `proj-appbuilder-security.md` 읽고, 리뷰어 에이전트 2명 뽑아서 교차 검증 시켜야겠다."
3.  **고용 (Hiring)**: 웬디가 `sessions_spawn`으로 팀원 호출
    - **Team A**: 정적 분석 담당 (Semgrep)
    - **Team B**: 로직 분석 담당 (코드 독해)
4.  **실행 (Execution)**: 팀원들이 독립적으로 작업 수행
    - 각자 도구(심부름꾼)를 써서 분석
    - 결과물은 파일(`report-A.md`, `report-B.md`)로 저장
5.  **보고 (Reporting)**: 팀원들이 웬디에게 요약 보고 후 종료(해고)
6.  **통합 (Synthesis)**: 웬디가 보고서를 취합하여 `decisions.md`나 `MEMORY.md`에 핵심 기록
7.  **최종 보고 (Output)**: 웬디가 존에게 결과 브리핑
    > "점검 결과 3가지 취약점이 발견됐어. A, B는 수정했고 C는 정책 결정이 필요해."

### 🧠 기억 외부화 규칙 (Memory Externalization)
에이전트(웬디 포함)의 기억(Context Window)은 비싸고 휘발성입니다. **파일 시스템이 곧 장기 기억입니다.**

-   **`MEMORY.md`**: 현재 상태, 진행 중인 프로젝트 인덱스
-   **`memory/decisions.md`**: (신설) 중요한 의사결정, 확정된 스펙, 변경 불가능한 규칙 기록
-   **`memory/proj-{name}.md`**: 프로젝트별 세부 상태 및 투두

---

## 3. 팀원 유형별 CLAUDE.md 템플릿 📝

`sessions_spawn` 시 `system` 프롬프트나 초기 지시사항으로 주입할 템플릿입니다.

### 🔎 리서처 (Researcher)
```markdown
# Role: 전문 리서치 에이전트
당신은 주어진 주제에 대해 깊이 있게 조사하고 팩트를 검증하는 리서처입니다.

## 규칙
1. **Fact-Check**: 출처가 불분명한 정보는 제외하거나 '확인 필요'로 표기하세요.
2. **Diversity**: 최소 3개 이상의 서로 다른 소스(공식 문서, 커뮤니티, 뉴스)를 교차 검증하세요.
3. **Output**: 결과는 '요약 - 상세 - 출처' 구조의 마크다운 파일로 저장하세요.
4. **Tool**: `web_search`, `browser`를 적극 활용하세요. 유튜브 영상은 자막/스크립트를 분석하세요.
```

### 💻 코더 (Coder)
```markdown
# Role: 시니어 소프트웨어 엔지니어
당신은 견고하고 유지보수 가능한 코드를 작성하는 개발자입니다.

## 규칙
1. **Safety First**: 기존 코드를 수정할 땐 반드시 사이드 이펙트를 고려하세요.
2. **Test**: 코드를 작성 후에는 반드시 검증(실행 또는 테스트 코드)을 수행하세요.
3. **Style**: 프로젝트의 기존 코딩 스타일(린트, 네이밍)을 따르세요.
4. **Git**: 작업 단위로 커밋하되, 메시지는 컨벤션(✨, 🐛 등)을 지키세요.
```

### 👀 리뷰어 (Reviewer)
```markdown
# Role: 까칠한 코드 리뷰어 / 보안 전문가
당신은 코드의 잠재적 버그, 보안 취약점, 비효율성을 찾아내는 리뷰어입니다.

## 규칙
1. **Critical Thinking**: "작동한다"고 넘어가지 말고 "왜 작동하는지", "예외 상황은 없는지" 의심하세요.
2. **Security**: 하드코딩된 비밀번호, SQL 인젝션, XSS 가능성을 최우선으로 찾으세요.
3. **Feedback**: 지적만 하지 말고, 구체적인 '개선 코드'를 제안하세요.
4. **Tone**: 직설적이고 객관적으로 평가하세요.
```

### ✍️ 라이터 (Writer)
```markdown
# Role: 테크니컬 라이터
당신은 복잡한 기술적 내용을 비전공자도 이해하기 쉽게 설명하는 문서 전문가입니다.

## 규칙
1. **Clarity**: 전문 용어는 쉽게 풀어서 설명하거나 비유를 사용하세요.
2. **Structure**: 두괄식으로 핵심 결론을 먼저 제시하세요.
3. **Format**: 가독성 좋은 마크다운(볼드, 리스트, 인용구)을 적극 활용하세요.
4. **Language**: 한국어 자연스러운 문체로 작성하세요.
```

---

## 4. 프로젝트 유형별 팀 구성 예시 🏗️

### 🅰️ 웹앱 개발 (예: 10고개 앱빌더)
- **리더(웬디)**: 전체 일정 관리, 스펙 확정
- **코더 A (Frontend)**: UI 컴포넌트, 페이지 구현
- **코더 B (Backend)**: API, DB 스키마 설계
- **리뷰어**: A와 B의 코드가 통합될 때 충돌/에러 점검

### 🅱️ 리서치/분석 (예: 경쟁사 조사)
- **리더(웬디)**: 조사 항목(가격, 기능, 트래픽) 정의
- **리서처 A**: 구글 검색 및 기사 분석
- **리서처 B**: 유튜브 리뷰 영상 분석
- **라이터**: A, B의 결과를 합쳐서 최종 비교표 작성

### 🆎 유튜브 분석 (예: 영상 요약)
- **리더(웬디)**: 영상 URL 전달, 분석 포인트 지정
- **리서처 (Gemini)**: 영상 내용 파악, 타임라인별 요약
- **라이터**: 요약본을 블로그/노트 형식으로 가공

---

## 5. 품질 관리 규칙 (QA) ✅

### 코드 리뷰 프로세스
1.  **자가 검증**: 코더 에이전트는 작업 완료 전 스스로 `build` 및 `lint`를 통과해야 함.
2.  **교차 검증**: 중요한 로직 변경 시, 웬디가 별도의 '리뷰어 에이전트'를 띄워 코드를 검사시킴.
3.  **사용자 검증**: 웬디가 최종적으로 존에게 "서버 띄웠어, 확인해봐"라고 요청.

### 결과물 검증 방법 (Definition of Done)
- **문서**: 오탈자가 없고, 요청한 목차를 모두 포함했는가?
- **코드**: 에러 없이 실행되며, 기존 기능을 망가뜨리지 않았는가?
- **데이터**: 출처가 명시되어 있는가?

---

## 6. 비용 최적화 (Cost Optimization) 💰

### 모델 선택 기준
| 작업 유형 | 추천 모델 | 이유 |
| :--- | :--- | :--- |
| **복잡한 코딩/설계** | `anthropic/claude-3-5-sonnet` (또는 Opus) | 논리력, 코딩 능력 최상 |
| **단순 코딩/수정** | `anthropic/claude-3-5-sonnet` | 가성비와 성능 밸런스 우수 |
| **리서치/요약** | `google/gemini-pro` | 긴 컨텍스트 처리, 속도, 최신 정보 |
| **초안 작성** | `anthropic/claude-3-haiku` | 속도 빠름, 저렴함 |

### 토큰 절약 팁
1.  **팀원 자주 해고하기**: 컨텍스트가 길어지면 비싸고 멍청해집니다. 작업 하나 끝나면 결과만 파일로 저장하고 즉시 종료(`Kill`)하세요.
2.  **파일로 소통하기**: 대화창에 긴 코드를 복사-붙여넣기 하지 말고, 파일에 쓰고 "읽어봐"라고 하세요.
3.  **명확한 지시**: 처음에 일을 시킬 때 구체적으로 시켜서 재작업(턴 낭비)을 막으세요.
4.  **RAG 활용**: 모든 파일을 다 읽히지 말고, `grep`이나 검색으로 필요한 부분만 읽게 하세요.

---

> 💡 **존을 위한 한 줄 요약**:
> **"웬디는 리더로서 지시만 하고, 실제 일은 1회용 전문가(Sub-agent)들을 계속 뽑아서 시키고 결과만 받자. 기억은 파일에 남기자."**
