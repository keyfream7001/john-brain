---
tags:
  - type/research
  - status/completed
  - ai/claude
  - dev/security
  - project/codetrust
date: 2026-02-19
summary: "크몽에서 구매한 코드의 실제 보안 분석 결과 - 바이브코딩 시대 경각심"
---

# ⭐ 크몽 코드 보안 분석 — 초보자가 알아야 할 진실

> **"돈 주고 산 코드가 해커에게 문을 활짝 열어두고 있었다"**

관련 문서: [[⭐ CodeTrust - Business Plan]]

---

## 📋 한눈에 보기

| 항목 | 내용 |
|------|------|
| **프로젝트** | Keyframe Invoice (PHP 견적서 시스템) |
| **구매처** | 크몽 (외주 플랫폼) |
| **분석 도구** | Semgrep (자동 보안 분석기) |
| **위험도** | 🔴 **9 / 10** |
| **치명적 취약점** | 5건 |
| **높은 위험** | 5건 |
| **중간 위험** | 4건 |

> 💡 **위험도 9/10이 뭔 뜻이냐면…**
> 10점이 "해커가 이미 들어와 있는 상태"라면, 9점은 **"해커가 문 앞에 서서 손잡이만 돌리면 되는 상태"**야.

---

## 🚨 왜 이게 심각한 건데?

이 코드를 **실제 서버에 올려서 운영**했다면:

- 👤 고객 개인정보 (이름, 연락처, 주소) **전부 유출** 가능
- 💰 견적서 금액을 해커가 **마음대로 수정** 가능
- 🖥️ 서버를 해커가 **완전히 장악** 가능 (웹쉘)
- 🏢 회사 DB 비밀번호가 코드에 **그대로 노출**

이걸 **돈 주고 샀다**는 게 핵심이야. 전문가에게 맡겼다고 믿었는데, 받은 건 **보안의 '보' 자도 모르는 코드**였던 거지.

---

## 🔴 CRITICAL — 치명적 취약점 5건

이건 "고쳐야 한다"가 아니라 **"당장 서버 내려야 한다"** 수준이야.

---

### 1. 💉 SQL Injection (SQL 인젝션)

#### 쉬운 설명
웹사이트에서 검색창이나 로그인 폼에 글자를 입력하면, 그게 데이터베이스에 질문(쿼리)으로 전달돼. SQL Injection은 **그 입력칸에 데이터베이스 명령어를 몰래 끼워넣는 공격**이야.

#### 🏠 비유
> 은행 창구에서 "제 잔고 알려주세요"라고 써서 내는 건 정상이잖아?
> 근데 누가 **"제 잔고 알려주세요. 그리고 모든 고객 잔고도 알려주세요"**라고 써서 내는 거야.
> 창구 직원이 그걸 **검증 없이 그대로 처리**해버리는 상황이 SQL Injection이야.

#### 이 코드에서 뭐가 문제?
```php
@extract($_GET);   // URL의 모든 파라미터를 변수로 만듦
@extract($_POST);  // 폼 입력값도 전부 변수로 만듦
// 그리고 이 변수를 바로 DB 쿼리에 넣음
$query = "SELECT * FROM users WHERE id = '$id'";
```

`addslashes()`라는 아주 오래되고 허술한 방어만 사용했어. 이건 **자물쇠 대신 테이프로 문 붙여놓은 수준**이야.

#### 😱 실제로 벌어지는 일
- 해커가 URL에 특수문자 몇 개 넣으면 **DB 전체 내용을 다운로드** 가능
- 고객 이름, 연락처, 견적 내역 **전부 유출**
- DB를 **삭제**하거나 **수정**하는 것도 가능
- 자동화 도구(sqlmap)로 **5분이면** 뚫림

#### 심각도: 🔴🔴🔴🔴🔴 (5/5)

---

### 2. 🔑 DB 비밀번호 평문 노출

#### 쉬운 설명
데이터베이스에 접속하려면 아이디와 비밀번호가 필요해. 이 코드는 그 **아이디/비밀번호를 코드 파일 안에 그냥 적어놨어.** 누구나 파일만 열면 볼 수 있게.

#### 🏠 비유
> 집 현관문 옆에 **포스트잇으로 비밀번호를 붙여놓은 것**과 같아.
> "1234#입니다~" 하고 적어놓은 거지.

#### 이 코드에서 뭐가 문제?
`db_cnt.php` 파일에 이렇게 적혀 있어:
```
아이디: keyframestudio
비밀번호: QnddjQkd99
```
이게 **코드에 하드코딩**되어 있어. GitHub에 올리거나, 백업 파일이 노출되면 끝이야.

#### 😱 실제로 벌어지는 일
- 이 비밀번호로 **데이터베이스에 직접 접속** 가능
- DB 안의 모든 데이터를 **읽고, 수정하고, 삭제** 가능
- 다른 서비스에도 같은 비밀번호를 쓰고 있다면 **연쇄 해킹** 가능

#### 심각도: 🔴🔴🔴🔴🔴 (5/5)

---

### 3. 🗝️ 네이버 API 키 평문 노출

#### 쉬운 설명
네이버 API를 쓰려면 "열쇠(API 키)"가 필요해. 이 열쇠를 코드 파일에 **그대로 적어놓은** 거야.

#### 🏠 비유
> 회사 법인카드 번호를 **회사 홈페이지에 올려놓은 것**과 같아.
> 누구나 가져다 쓸 수 있지.

#### 😱 실제로 벌어지는 일
- 해커가 이 API 키로 **네이버 서비스를 마음대로 호출**
- API 사용료가 **내 계정으로 청구**됨
- 스팸이나 악의적 목적에 **내 이름으로** 사용될 수 있음

#### 심각도: 🔴🔴🔴🔴 (4/5)

---

### 4. 🌪️ register_globals 에뮬레이션

#### 쉬운 설명
PHP에는 옛날에 `register_globals`라는 아주 위험한 기능이 있었어. URL 주소창에 적은 값이 **프로그램 내부 변수를 덮어쓸 수 있는** 기능이야. 너무 위험해서 PHP에서 공식적으로 삭제했는데, **이 코드는 그걸 일부러 다시 만들어 놨어.**

#### 🏠 비유
> 자동차 안에서만 조작할 수 있어야 하는 핸들과 브레이크를 **차 밖에서도 누구나 만질 수 있게** 만든 거야.
> "아, 이게 편하니까~" 하고 차 창문을 다 열어놓은 격이지.

#### 이 코드에서 뭐가 문제?
```php
@extract($_GET);   // URL 파라미터가 전부 내부 변수가 됨
@extract($_POST);  // 폼 데이터도 전부 내부 변수가 됨
```
해커가 URL에 `?is_admin=true`만 추가하면 **프로그램이 관리자로 인식**할 수 있어.

#### 😱 실제로 벌어지는 일
- 프로그램의 **모든 내부 변수를 외부에서 조작** 가능
- 인증을 우회하거나 **가격을 0원으로 변경**하는 것도 가능
- 다른 취약점(SQL Injection 등)과 합치면 **파괴력이 기하급수적**으로 증가

#### 심각도: 🔴🔴🔴🔴🔴 (5/5)

---

### 5. 🚪 인증 우회 — 누구나 관리자

#### 쉬운 설명
관리자 페이지에 접근하려면 로그인해야 하잖아? 이 코드는 관리자인지 확인하는 방법이 **브라우저 쿠키에 'admin'이라고 적혀 있는지만 확인**하는 거야.

#### 🏠 비유
> VIP 라운지 입구에서 "VIP입니다"라고 **말만 하면 들여보내주는** 거야.
> 신분증 확인? 없어. 초대장? 필요 없어. 그냥 **"나 VIP"라고 하면 끝.**

#### 이 코드에서 뭐가 문제?
```php
if ($_COOKIE['cid'] == 'admin') {
    // 관리자 권한 부여!
}
```
브라우저에서 쿠키 값을 `cid=admin`으로 설정하면 **누구나 관리자**가 돼. 개발자 도구(F12)에서 **10초면** 가능해.

#### 😱 실제로 벌어지는 일
- **누구나 관리자 페이지** 접근 가능
- 모든 견적서를 **열람, 수정, 삭제** 가능
- 고객 정보를 **유출**하거나 **위조 견적서** 발행 가능

#### 심각도: 🔴🔴🔴🔴🔴 (5/5)

---

## 🟠 HIGH — 높은 위험 5건

치명적은 아니지만, 여전히 **매우 위험한** 취약점들이야.

---

### 6. 📁 파일 업로드 무검증 (웹쉘 가능)

#### 🏠 비유
> 우체통에 뭘 넣든 확인 안 하는 거야. 편지를 넣든, **폭탄을 넣든**.

파일 업로드할 때 **파일 종류를 확인하지 않아.** 해커가 `.php` 파일(실행 가능한 프로그램)을 업로드하면 **서버에서 아무 명령이나 실행** 가능해. 이걸 "웹쉘"이라고 하는데, 서버를 **완전히 장악**할 수 있는 거야.

#### 심각도: 🟠🟠🟠🟠 (4/5)

---

### 7. 🔓 MD5 느슨한 비교

#### 🏠 비유
> 비밀번호가 "1234"인데, **"1234.0"이라고 입력해도 통과**시켜주는 거야.

PHP에서 `==` (느슨한 비교)를 쓰면 "0e123456"과 "0e654321"이 **같다고 판단**해. 이걸 이용하면 **비밀번호를 몰라도 로그인**할 수 있어.

#### 심각도: 🟠🟠🟠 (3/5)

---

### 8. 📂 로컬 파일 포함 (LFI)

#### 🏠 비유
> "3번 서류함에서 서류 가져와"라고 시키면 가져오는 직원이 있는데,
> "비밀금고에서 가져와"라고 해도 **그냥 가져오는** 거야.

URL을 조작해서 서버의 **시스템 파일**(비밀번호 파일 등)을 읽을 수 있어.

#### 심각도: 🟠🟠🟠🟠 (4/5)

---

### 9. 🪦 deprecated mysql_* 함수

#### 🏠 비유
> 2010년에 리콜된 자동차를 **아직도 타고 다니는** 거야. 에어백이 안 터질 수도 있는데.

`mysql_*` 함수는 **2012년에 지원 중단**, 2015년에 PHP에서 완전 삭제됐어. 보안 패치가 전혀 없는 함수를 쓰고 있다는 뜻이야.

#### 심각도: 🟠🟠🟠 (3/5)

---

### 10. 💬 XSS 11건

#### 🏠 비유
> 게시판에 글을 올렸는데, 그 글을 보는 사람의 **컴퓨터에서 몰래 프로그램이 실행**되는 거야.

Cross-Site Scripting(XSS)은 웹페이지에 **악성 스크립트를 삽입**하는 공격이야. 11곳에서 발견됐다는 건 **사이트 전체가 뚫려 있다**는 뜻이야.

#### 😱 실제로 벌어지는 일
- 접속한 사람의 **로그인 정보 탈취**
- **가짜 로그인 페이지**를 띄워서 비밀번호 수집
- 관리자가 접속하면 **관리자 권한으로 악성 행위** 실행

#### 심각도: 🟠🟠🟠🟠 (4/5)

---

## 🟡 MEDIUM — 중간 위험 4건

| 취약점 | 비유 | 설명 |
|--------|------|------|
| **ReDoS** | 미로에 일부러 가두는 것 | 특수 입력으로 서버를 **무한루프**에 빠뜨림 |
| **CSRF 보호 없음** | 내가 모르게 내 손으로 계약서 사인 | 악성 사이트 방문만으로 **내 계정에서 행동**이 실행됨 |
| **phpMyAdmin 3.3.5.1 노출** | DB 관리 화면을 길거리에 오픈 | 2010년 버전의 DB 관리 도구가 **외부 접근 가능** |
| **세션 관리 부재** | 한 번 들어오면 절대 안 쫓아냄 | 로그인 후 **만료/검증 없이 계속** 사용 가능 |

---

## 🤯 전체 그림 — 이 코드로 뭘 할 수 있나?

해커 입장에서 이 사이트를 공격하는 시나리오야:

```
1️⃣ URL에 SQL Injection 시도 (5분)
   → DB 전체 덤프 성공

2️⃣ DB에서 관리자 정보 확인... 필요 없네?
   → 쿠키에 cid=admin 설정하면 끝 (10초)

3️⃣ 관리자 페이지에서 웹쉘 업로드 (1분)
   → 서버 완전 장악

4️⃣ db_cnt.php에서 DB 비밀번호 확보
   → 다른 서비스도 같은 비밀번호? 연쇄 공격

총 소요 시간: 약 10분 ⏱️
필요한 기술: 초보 해커도 가능
```

**이 코드를 실서비스에 올려뒀다면, 이미 뚫렸을 가능성이 높아.**

---

## ⚠️ 바이브코딩 시대의 경고

> **"크몽에서 산 코드만 이런 게 아니야."**

요즘 ChatGPT, Claude, Cursor 같은 AI로 코드를 만드는 "바이브코딩"이 유행이잖아. 근데 **AI가 만든 코드도 이런 보안 문제를 가질 수 있어.**

### AI 코드가 위험할 수 있는 이유

| 상황 | 위험 |
|------|------|
| "빨리 동작하게 해줘" | AI가 보안보다 **빠른 구현**을 우선시 |
| "로그인 만들어줘" | 비밀번호 해싱, 세션 관리 같은 **보안 기본기**를 빠뜨릴 수 있음 |
| "DB 연결해줘" | SQL Injection 방어 없이 **직접 쿼리 삽입** 가능 |
| "파일 업로드 추가해줘" | 파일 검증 없이 **아무 파일이나 올라갈 수 있음** |

### 차이점은?
- 🟢 **좋은 개발자/AI 사용**: 보안을 **기본으로** 적용하고, 검증 도구로 체크
- 🔴 **나쁜 개발자/무지한 AI 사용**: 동작만 되면 OK, 보안은 **나중에** (= 영원히 안 함)

---

## ✅ 그래서 어떻게 해야 하나?

### 코드를 구매했다면

1. **🔍 반드시 보안 검사를 해라**
   - [Semgrep](https://semgrep.dev/) — 무료, 자동 분석
   - [SonarQube](https://www.sonarqube.org/) — 무료, 종합 분석
   - AI에게 "이 코드 보안 검사해줘"라고 요청해도 돼

2. **📋 최소한의 체크리스트**
   - [ ] DB 비밀번호가 코드에 하드코딩되어 있지 않은가?
   - [ ] SQL 쿼리에 사용자 입력이 직접 들어가지 않는가?
   - [ ] 파일 업로드 시 확장자/크기를 검증하는가?
   - [ ] 관리자 인증이 제대로 되어 있는가?
   - [ ] HTTPS를 사용하는가?

3. **🚫 안전하지 않으면 사용하지 마라**
   - 수정 비용이 새로 만드는 것보다 클 수 있어
   - 이 코드는 **수정이 아니라 폐기**가 답이야

### 바이브코딩을 하고 있다면

1. **AI에게 보안도 같이 요청해라**
   - ❌ "로그인 페이지 만들어줘"
   - ✅ "보안 모범 사례를 따르는 로그인 페이지 만들어줘. SQL Injection, XSS, CSRF 방어 포함해서"

2. **만든 코드를 다시 AI에게 검사시켜라**
   - "이 코드에 보안 취약점이 있는지 확인해줘"
   - Semgrep 같은 도구도 병행

3. **기본 보안 개념은 알아두자**
   - SQL Injection이 뭔지
   - XSS가 뭔지
   - 비밀번호는 왜 해싱해야 하는지
   - **몰라도 AI에게 "보안 신경 써줘"라고 한 마디만 하면** 훨씬 나아져

---

## 💰 교훈

> **"코드의 가격 ≠ 코드의 품질"**

크몽에서 돈 주고 산 코드가 보안 점수 9/10(위험)을 받았어. 이건 **무료 템플릿보다 못한 수준**이야.

외주든, AI든, 직접 만들든 — **보안 검사 없이 서비스에 올리는 건 지뢰밭 위에서 춤추는 거야.** 💣

코드가 "동작한다"와 "안전하다"는 **완전히 다른 이야기**야.

> 🔐 **동작하는 코드는 시작일 뿐이야. 안전한 코드가 진짜 완성이야.**

---

*이 분석은 Semgrep 자동 보안 분석 도구로 수행했으며, 바이브코딩 시대에 코드 품질과 보안의 중요성을 알리기 위해 작성했습니다.*
